<!DOCTYPE html>
<!DOCTYPE html>
<meta charset="utf-8" />
<meta charset="viewport" content="width=device-width" />

<html>
<head>
  <title>Selected Findings from 2016 State Reports</title>

  <!-- Scripts -->

  <script src="assets/js/charts.js"></script>
  <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>

  <!-- Stylesheets -->

  <link rel="stylesheet" type="text/css" href="assets/css/main.css" />

</head>

<body>
  <div id="TradMMScatter" class="chart" style="width: 49%; display: inline-block;">
    <p>
      Scatter plot of percent male by percent minority for traditional providers.
    </p>
  </div>
  <div id="AltMMScatter" class="chart" style="width: 49%; display: inline-block;">
    <p>
      Scatter plot of percent male by percent minority for alternative providers.
    </p>
  </div>
</body>

<!-- Charts -->

<script>
  d3.tsv("assets/data/scatterData.tsv", function(error, data) {
    if (error) { throw error; }
    else {
      data.forEach(function(d) {
        d.state = d.state;
        d.program_code = d.program_code;
        d.provider = d.provider;
        d.provider_type = d.provider_type;
        d.total = +d.total;
        d.male = +d.male;
        d.female = +d.female;
        d.male_percent = +d.male_percent;
        d.female_percent = +d.female_percent;
        d.white = +d.white;
        d.minority = +d.minority;
        d.white_percent = +d.white_percent;
        d.minority_percent = +d.minority_percent;
      });

      data1 = data.filter(function(d) { return d.provider_type == "Traditional"; });
      data2 = data.filter(function(d) { return d.provider_type != "Traditional"; });

      var tradMMScatter = scatterPlot().data(data1).chartID("TradMMScatter");
      var altMMScatter = scatterPlot().data(data2).chartID("AltMMScatter");

      d3.select("#TradMMScatter").call(tradMMScatter);
      d3.select("#AltMMScatter").call(altMMScatter);

    };
  });
</script>

<!-- Fix for IE parallax -->

<script>
  if(navigator.userAgent.match(/Trident\/7\./)) {
    document.body.addEventListener("mousewheel", function() {
      event.preventDefault();
      var wd = event.wheelDelta;
      var csp = window.pageYOffset;
      window.scrollTo(0, csp - wd);
    });
  }
</script>

</html>
